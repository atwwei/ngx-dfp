{"version":3,"sources":["webpack:///./demo/$_lazy_route_resource lazy namespace object","webpack:///./demo/app/app.component.ts","webpack:///./demo/app/app.module.ts","webpack:///./demo/environments/environment.ts","webpack:///./demo/main.ts","webpack:///./src/class/dfp-config.class.ts","webpack:///./src/class/dfp-errors.class.ts","webpack:///./src/class/index.ts","webpack:///./src/dfp.module.ts","webpack:///./src/directive/dfp-ad-responsive.directive.ts","webpack:///./src/directive/dfp-ad.directive.ts","webpack:///./src/directive/dfp-audience-pixel.directive.ts","webpack:///./src/directive/dfp-exclusion.directive.ts","webpack:///./src/directive/dfp-responsive.directive.ts","webpack:///./src/directive/dfp-size.directive.ts","webpack:///./src/directive/dfp-targeting.directive.ts","webpack:///./src/directive/dfp-value.directive.ts","webpack:///./src/directive/dfp-video.directive.ts","webpack:///./src/directive/index.ts","webpack:///./src/index.ts","webpack:///./src/service/dfp-id-generator.service.ts","webpack:///./src/service/dfp-refresh.service.ts","webpack:///./src/service/dfp.service.ts","webpack:///./src/service/http-error.service.ts","webpack:///./src/service/idle.service.ts","webpack:///./src/service/index.ts","webpack:///./src/service/parse-duration.service.ts","webpack:///./src/service/script-injector.service.ts","webpack:///min-document (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var map = {\n\t\"./page/page.module\": [\n\t\t\"./demo/app/page/page.module.ts\",\n\t\t\"page-page-module\"\n\t],\n\t\"./page2/page2.module\": [\n\t\t\"./demo/app/page2/page2.module.ts\",\n\t\t\"page2-page2-module\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar module = __webpack_require__(ids[0]);\n\t\treturn module;\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./demo/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: '<router-outlet></router-outlet>'\n})\nexport class AppComponent {}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { DfpModule } from 'ngx-dfp';\n\nimport * as videojs from 'video.js';\nwindow['videojs'] = videojs;\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule.forRoot([\n      {\n        path: '',\n        component: AppComponent,\n        children: [\n          {\n            path: '',\n            loadChildren: './page/page.module#PageModule'\n          },\n          {\n            path: ':page',\n            loadChildren: './page2/page2.module#Page2Module'\n          },\n        ]\n      }\n    ]),\n    DfpModule.forRoot({\n      idleLoad: true,\n      enableVideoAds: true,\n      personalizedAds: false, // Request personalized ads by default\n      singleRequestMode: true, // Only applies to initial refresh\n      onSameNavigation: 'refresh',\n      globalTargeting: {\n        food: ['chicken', 'meatballs']\n      }\n    })\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","import { InjectionToken } from '@angular/core';\n\nexport class DfpTargeting {\n  [key: string]: Array<string>;\n}\n\nexport class DfpConfig {\n  idleLoad?: boolean;\n  onSameNavigation?: 'refresh' | 'ignore';\n  singleRequestMode?: boolean;\n  enableVideoAds?: boolean;\n  personalizedAds?: boolean;\n  collapseIfEmpty?: boolean;\n  centering?: boolean;\n  location?: string | Array<string>;\n  ppid?: string;\n  globalTargeting?: DfpTargeting;\n  forceSafeFrame?: boolean;\n  safeFrameConfig?: object;\n  loadGPT?: boolean;\n}\n\nexport const DFP_CONFIG = new InjectionToken<DfpConfig>('dfpConfig', {\n  factory: () => new DfpConfig()\n});\n","\n\nexport class DFPIncompleteError extends Error {\n    constructor(directiveName, missingName, isAttribute?) {\n        super(`Incomplete definition of '${directiveName}': ` +\n            `Missing ${isAttribute ? 'attribute' : 'child directive'} ` +\n            `'${missingName}'.`);\n    }\n}\n\nexport class DFPTypeError extends Error {\n    constructor(directiveName, attributeName, wrongValue, expectedType) {\n        super(\n            `Wrong type for attribute '${attributeName}' on ` +\n            `directive '${directiveName}': Expected ${expectedType}` +\n            `, got ${typeof wrongValue}`\n        );\n    }\n}\n\nexport class DFPMissingParentError extends Error {\n    constructor(directiveName, ...parents) {\n        console.assert(parents && parents.length > 0);\n        if (Array.isArray(parents[0])) {\n            parents = parents[0];\n        }\n\n        let parentMessage;\n        if (parents.length > 1) {\n            parents = parents.map(p => `'${p}'`);\n            parentMessage = ', which must be ';\n            parentMessage += parents.slice(0, -1).join(', ');\n            parentMessage += ` or ${parents[parents.length - 1]}`;\n        } else {\n            parentMessage = ` '${parents[0]}'`;\n        }\n\n        super(\n            `Invalid use of '${directiveName}' directive. ` +\n            `Missing parent directive${parentMessage}.`\n        );\n    }\n}\n","export * from './dfp-errors.class';\nexport * from './dfp-config.class';\nexport * from './google-slot.class';\n","import { NgModule } from '@angular/core';\nimport { ModuleWithProviders } from '@angular/core';\n\nimport { DFP_CONFIG, DfpConfig } from './class';\n\nimport {\n  IdleLoad,\n  HttpErrorService,\n  ParseDurationService,\n  ScriptInjectorService,\n  DfpService, DfpIDGeneratorService, DfpRefreshService\n} from './service';\n\nimport {\n  DfpAdDirective, DfpAdResponsiveDirective,\n  DfpSizeDirective,\n  DfpResponsiveDirective,\n  DfpTargetingDirective, DfpExclusionDirective, DfpValueDirective,\n  DfpVideoDirective,\n  DfpAudiencePixelDirective\n} from './directive';\n\nconst DIRECTIVES = [\n  DfpAdDirective, DfpAdResponsiveDirective,\n  DfpSizeDirective,\n  DfpResponsiveDirective,\n  DfpTargetingDirective, DfpExclusionDirective, DfpValueDirective,\n  DfpVideoDirective,\n  DfpAudiencePixelDirective\n];\n\nconst SERVICES = [\n  HttpErrorService,\n  ParseDurationService,\n  ScriptInjectorService,\n  DfpService, DfpIDGeneratorService, DfpRefreshService\n];\n\n@NgModule({\n  imports: [\n\n  ],\n  declarations: [\n    ...DIRECTIVES\n  ],\n  providers: [\n    ...SERVICES\n  ],\n  exports: [\n    ...DIRECTIVES\n  ]\n})\nexport class DfpModule {\n  static forRoot(config?: DfpConfig): ModuleWithProviders {\n    return {\n      ngModule: DfpModule,\n      providers: [\n        ...(config && config.idleLoad === true ? [IdleLoad] : []),\n        { provide: DFP_CONFIG, useValue: config || {} }\n      ]\n    };\n  }\n}\n","import {\n    Directive, ElementRef,\n    Inject, forwardRef,\n    HostListener\n} from '@angular/core';\n\nimport { DfpAdDirective } from './dfp-ad.directive';\nimport { DfpRefreshService } from '../service';\n\n@Directive({\n    selector: 'dfp-ad[responsive]'\n})\nexport class DfpAdResponsiveDirective {\n\n    private iframe: HTMLIFrameElement;\n    private iframeWidth: number;\n    private slot: any;\n\n    constructor(\n        private elementRef: ElementRef,\n        @Inject(forwardRef(() => DfpAdDirective))\n        private ad: DfpAdDirective,\n        private dfpRefresh: DfpRefreshService\n    ) {\n        this.ad.afterRefresh.subscribe(event => {\n            this.slot = event.slot;\n        });\n    }\n\n    @HostListener('window:resize')\n    normalizeIframe() {\n        if (this.ad.isHidden) {\n            return false;\n        }\n        this.iframe = this.iframe || this.getIframe();\n        if (!this.iframe) { return false; }\n\n        this.iframeWidth = this.iframeWidth || +this.iframe.width;\n\n        const winWidth = window.innerWidth;\n\n        let state = this.ad.getState(),\n            width = 0;\n\n        state.sizes.forEach(size => {\n            if (size[0] < winWidth) {\n                width = Math.max(width, size[0]);\n            }\n        });\n\n        if (state.sizes.length > 1 && width !== this.iframeWidth) {\n            state = this.ad.getState();\n            this.iframeWidth = width;\n            this.iframe.setAttribute('width', width + '');\n            this.dfpRefresh.slotRefresh(this.slot, state.refresh).then(slot => {\n                this.ad.afterRefresh.emit({ type: 'resize', slot: slot });\n                this.iframe = this.getIframe();\n            });\n        }\n    }\n\n    getIframe() {\n        const ad: Element = this.elementRef.nativeElement,\n            iframe = ad.querySelector('iframe');\n        if (iframe && +iframe.width > 0) {\n            return iframe;\n        }\n    }\n}\n","import {\n  Directive, ElementRef,\n  Input, Output, EventEmitter,\n  OnInit, AfterViewInit, OnDestroy, Inject, PLATFORM_ID, Optional\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Router, NavigationEnd } from '@angular/router';\n\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { DfpService, DfpIDGeneratorService, DfpRefreshService } from '../service';\n\nimport { DFPIncompleteError, GoogleSlot, DfpConfig, DFP_CONFIG } from '../class';\n\ndeclare var googletag;\n\nexport class DfpRefreshEvent {\n  type: string;\n  slot: any;\n  data?: any;\n}\n\n@Directive({\n  selector: 'dfp-ad'\n})\nexport class DfpAdDirective implements OnInit, AfterViewInit, OnDestroy {\n\n  @Input() adUnit: string;\n  @Input() clickUrl: string;\n  @Input() forceSafeFrame: boolean;\n  @Input() safeFrameConfig: string;\n  @Input() refresh: string;\n  @Input() collapseIfEmpty: boolean;\n\n  @Output() afterRefresh: EventEmitter<DfpRefreshEvent> = new EventEmitter();\n\n  private sizes = [];\n\n  private responsiveMapping = [];\n\n  private targetings = [];\n\n  private exclusions = [];\n\n  private scripts = [];\n\n  private slot: GoogleSlot;\n\n  private onSameNavigation: Subscription;\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private elementRef: ElementRef,\n    private dfp: DfpService,\n    private dfpIDGenerator: DfpIDGeneratorService,\n    private dfpRefresh: DfpRefreshService,\n    @Inject(DFP_CONFIG) private config: DfpConfig,\n    @Optional() router: Router\n  ) {\n    if (isPlatformBrowser(this.platformId)) {\n      this.dfpRefresh.refreshEvent.subscribe(slot => {\n        if (slot === this.slot) {\n          this.afterRefresh.emit({ type: 'refresh', slot: slot });\n        }\n      });\n      if (router) {\n        this.onSameNavigation = router.events.pipe(filter(event => event instanceof NavigationEnd))\n          .subscribe((event: NavigationEnd) => {\n            if (this.slot && !this.refresh && this.config.onSameNavigation === 'refresh') {\n              this.refreshContent.call(this);\n            }\n          });\n      }\n    }\n  }\n\n  ngOnInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.dfpIDGenerator.dfpIDGenerator(this.elementRef.nativeElement);\n    }\n  }\n\n  ngAfterViewInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.dfp.defineTask(() => {\n        this.defineSlot();\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.slot) {\n      googletag.destroySlots([this.slot]);\n    }\n    if (this.onSameNavigation) {\n      this.onSameNavigation.unsubscribe();\n    }\n  }\n\n  private setResponsiveMapping(slot) {\n    const ad = this.getState();\n\n    if (ad.responsiveMapping.length === 0) {\n      return;\n    }\n\n    const sizeMapping = googletag.sizeMapping();\n\n    ad.responsiveMapping.forEach(mapping => {\n      sizeMapping.addSize(mapping.viewportSize, mapping.adSizes);\n    });\n\n    slot.defineSizeMapping(sizeMapping.build());\n  }\n\n  private defineSlot() {\n    const ad = this.getState(),\n      element = this.elementRef.nativeElement;\n\n    this.slot = googletag.defineSlot(ad.adUnit, ad.sizes, element.id);\n\n    if (ad.forceSafeFrame !== undefined) {\n      this.slot.setForceSafeFrame(true);\n    }\n\n    if (ad.clickUrl) {\n      this.slot.setClickUrl(ad.clickUrl);\n    }\n\n    if (ad.collapseIfEmpty) {\n      this.slot.setCollapseEmptyDiv(true, true);\n    }\n\n    if (ad.safeFrameConfig) {\n      this.slot.setSafeFrameConfig(\n        (JSON.parse(ad.safeFrameConfig))\n      );\n    }\n\n    this.slot.renderEnded = (googleSlotEvent: IArguments) => {\n      this.afterRefresh.emit({ type: 'renderEnded', slot: this.slot, data: googleSlotEvent });\n    };\n\n    this.setResponsiveMapping(this.slot);\n\n    ad.targetings.forEach(targeting => {\n      this.slot.setTargeting(targeting.key, targeting.values);\n    });\n\n    ad.exclusions.forEach(exclusion => {\n      this.slot.setCategoryExclusion(exclusion);\n    });\n\n    ad.scripts.forEach(script => { script(this.slot); });\n\n    if (this.config.enableVideoAds) {\n      this.slot.addService(googletag.companionAds());\n    }\n\n    this.slot.addService(googletag.pubads());\n\n    this.refreshContent();\n  }\n\n  private refreshContent() {\n    this.dfpRefresh.slotRefresh(this.slot, this.refresh, true).then(slot => {\n      this.afterRefresh.emit({ type: 'init', slot: slot });\n    });\n  }\n\n  checkValid() {\n    if (this.sizes.length === 0) {\n      throw new DFPIncompleteError('dfp-ad', 'dfp-size');\n    }\n    if (!this.adUnit) {\n      throw new DFPIncompleteError('dfp-ad', 'ad-unit', true);\n    }\n  }\n\n  get isHidden() {\n    return this.dfpRefresh.hiddenCheck(this.elementRef.nativeElement);\n  }\n\n  getState() {\n    this.checkValid();\n    return Object.freeze({\n      sizes: this.sizes,\n      responsiveMapping: this.responsiveMapping,\n      targetings: this.targetings,\n      exclusions: this.exclusions,\n      adUnit: this.adUnit,\n      forceSafeFrame: this.forceSafeFrame === true,\n      safeFrameConfig: this.safeFrameConfig,\n      clickUrl: this.clickUrl,\n      refresh: this.refresh,\n      scripts: this.scripts,\n      collapseIfEmpty: this.collapseIfEmpty === true\n    });\n  }\n\n  addSize(size) {\n    this.sizes.push(size);\n  }\n\n  addResponsiveMapping(mapping) {\n    this.responsiveMapping.push(mapping);\n  }\n\n  addTargeting(targeting) {\n    this.targetings.push(targeting);\n  }\n\n  addExclusion(exclusion) {\n    this.exclusions.push(exclusion);\n  }\n\n  addScript(script) {\n    this.scripts.push(script);\n  }\n\n}\n","import {\n  Directive, ElementRef,\n  Input,\n  OnInit,\n  Inject,\n  PLATFORM_ID\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Directive({\n  selector: 'dfp-audience-pixel'\n})\nexport class DfpAudiencePixelDirective implements OnInit {\n\n  @Input() adUnit: string;\n  @Input() segmentId: number;\n  @Input() ppid: number;\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private elementRef: ElementRef\n  ) { }\n\n  ngOnInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      const axel = Math.random(),\n        random = axel * 10000000000000;\n\n      let adUnit = '';\n      if (this.adUnit) {\n        adUnit = `dc_iu=${this.adUnit}`;\n      }\n\n      let ppid = '';\n      if (this.ppid) {\n        ppid = `ppid=${this.ppid}`;\n      }\n\n      const pixel = document.createElement('img');\n\n      pixel.src = 'https://pubads.g.doubleclick.net/activity;ord=';\n      pixel.src += `${random};dc_seg=${this.segmentId};${adUnit}${ppid}`;\n\n      pixel.width = 1;\n      pixel.height = 1;\n      pixel.border = '0';\n\n      pixel.style.visibility = 'hidden';\n\n      this.elementRef.nativeElement.append(pixel);\n    }\n  }\n}\n","import {\n  Directive, ElementRef,\n  Inject, forwardRef,\n  OnInit\n} from '@angular/core';\n\nimport { DfpAdDirective } from './dfp-ad.directive';\n\n@Directive({\n  selector: 'dfp-exclusion'\n})\nexport class DfpExclusionDirective implements OnInit {\n\n  constructor(\n    private elementRef: ElementRef,\n    @Inject(forwardRef(() => DfpAdDirective))\n    private ad: DfpAdDirective\n  ) {}\n\n  ngOnInit() {\n    this.ad.addExclusion(this.elementRef.nativeElement.innerText);\n  }\n\n}\n","import { Directive, Inject, forwardRef, Input, OnInit } from '@angular/core';\n\nimport { DfpAdDirective } from './dfp-ad.directive';\n\n@Directive({\n  selector: 'dfp-responsive'\n})\nexport class DfpResponsiveDirective implements OnInit {\n\n  @Input() viewport = [0, 0];\n  @Input() adSizes = [];\n\n  constructor(\n    @Inject(forwardRef(() => DfpAdDirective))\n    private ad: DfpAdDirective\n  ) { }\n\n  ngOnInit() {\n    this.ad.addResponsiveMapping(this.getState());\n  }\n\n  @Input()\n  set viewWidth(val: number) {\n    if (val > 0) {\n      this.viewport[0] = val;\n    }\n  }\n\n  @Input()\n  set viewHeight(val: number) {\n    if (val > 0) {\n      this.viewport[1] = val;\n    }\n  }\n\n  addSize(size) {\n    this.adSizes.push(size);\n  }\n\n  getState() {\n    return Object.freeze({\n      viewportSize: this.viewport,\n      adSizes: this.adSizes\n    });\n  }\n}\n","import { Directive, ElementRef, Input, Inject, forwardRef, OnInit, Optional } from '@angular/core';\n\nimport { DfpAdDirective } from './dfp-ad.directive';\nimport { DfpResponsiveDirective } from './dfp-responsive.directive';\n\n@Directive({\n  selector: 'dfp-size'\n})\nexport class DfpSizeDirective implements OnInit {\n\n  @Input() width: number;\n  @Input() height: number;\n\n  constructor(\n    private elementRef: ElementRef,\n    @Inject(forwardRef(() => DfpAdDirective))\n    private ad: DfpAdDirective,\n    @Optional() @Inject(forwardRef(() => DfpResponsiveDirective))\n    private resp: DfpResponsiveDirective\n  ) { }\n\n  ngOnInit() {\n    const target = this.resp || this.ad,\n      innerText: string = this.elementRef.nativeElement.innerText;\n\n    if (this.width && this.height) {\n      target.addSize([this.width, this.height]);\n    } else if (innerText.trim() !== '') {\n      target.addSize(innerText);\n    }\n  }\n\n}\n","import { Directive, AfterContentInit, Input, Inject, forwardRef } from '@angular/core';\n\nimport { DFPIncompleteError } from '../class';\nimport { DfpAdDirective } from './dfp-ad.directive';\n\n@Directive({\n  selector: 'dfp-targeting'\n})\nexport class DfpTargetingDirective implements AfterContentInit {\n\n  @Input() key: string;\n\n  @Input()\n  set value(val: string | Array<string>) {\n    if (val instanceof Array) {\n      val.forEach(v => this.addValue(v));\n    } else {\n      this.addValue(val);\n    }\n  }\n\n  private values = [];\n\n  constructor(\n    @Inject(forwardRef(() => DfpAdDirective))\n    private ad: DfpAdDirective\n  ) { }\n\n  ngAfterContentInit() {\n    const targeting = this.getState();\n    this.ad.addTargeting(targeting);\n  }\n\n  checkValid() {\n    if (this.key === undefined) {\n      throw new DFPIncompleteError('dfp-targeting', 'key', true);\n    }\n    if (this.values.length === 0) {\n      throw new DFPIncompleteError('dfp-targeting', 'value', true);\n    }\n  }\n\n  getState() {\n    this.checkValid();\n    return Object.freeze({\n      key: this.key,\n      values: this.values\n    });\n  }\n\n  addValue(value) {\n    if (value && !this.values.find(item => item === value)) {\n      this.values.push(value);\n    }\n  }\n\n}\n","import {\n  Directive, ElementRef,\n  Inject, forwardRef,\n  OnInit\n} from '@angular/core';\n\nimport { DfpTargetingDirective } from './dfp-targeting.directive';\n\n@Directive({\n  selector: 'dfp-value'\n})\nexport class DfpValueDirective implements OnInit {\n\n  constructor(\n    private elementRef: ElementRef,\n    @Inject(forwardRef(() => DfpTargetingDirective))\n    private targeting: DfpTargetingDirective\n  ) { }\n\n  ngOnInit() {\n    this.targeting.addValue(this.elementRef.nativeElement.innerText);\n  }\n\n}\n","import { Directive, Inject, PLATFORM_ID, ElementRef, OnInit, Input, Output, EventEmitter, Renderer2 } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport { loadImaSdk } from '@alugha/ima';\n\nimport { DfpIDGeneratorService } from '../service';\n\n@Directive({\n  selector: 'dfp-video'\n})\nexport class DfpVideoDirective implements OnInit {\n\n  @Input() width: number;\n  @Input() height: number;\n\n  @Input() adTag: string;\n  @Input() adActions: EventEmitter<'play' | 'pause' | 'resume'>;\n\n  @Output() adEvents = new EventEmitter<any>();\n\n  contentPlayer: HTMLVideoElement;\n  adContainer: HTMLElement;\n\n  private contentCompleteCalled: boolean;\n  private adDisplayContainer: google.ima.AdDisplayContainer;\n  private adsLoader: google.ima.AdsLoader;\n  private adsManager: google.ima.AdsManager;\n  private adsDone = false;\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private elementRef: ElementRef,\n    private renderer: Renderer2,\n    private dfpIDGenerator: DfpIDGeneratorService\n  ) { }\n\n  ngOnInit() {\n    if (isPlatformBrowser(this.platformId)) {\n\n      const el = this.elementRef.nativeElement;\n\n      this.dfpIDGenerator.dfpIDGenerator(el);\n\n      this.contentPlayer = el.querySelector('video');\n      this.renderer.setAttribute(this.contentPlayer, 'width', this.width.toString());\n      this.renderer.setAttribute(this.contentPlayer, 'height', this.height.toString());\n\n      this.adContainer = el.querySelector('.ad-container');\n      if (!this.adContainer) {\n        this.adContainer = this.renderer.createElement('div');\n        this.renderer.addClass(this.adContainer, 'ad-container');\n        this.renderer.appendChild(el, this.adContainer);\n      }\n\n      // ima setup\n      loadImaSdk().then(() => this.setUpIMA());\n\n      // simple control\n      this.adActions.subscribe(act => {\n        switch (act) {\n          case 'play':\n            this.play();\n            break;\n          case 'pause':\n            this.pause();\n            break;\n          case 'resume':\n            this.resume();\n            break;\n        }\n      });\n    }\n  }\n\n  play() {\n    if (!this.adsDone) {\n      this.initialUserAction();\n      this.loadAds();\n      this.adsDone = true;\n    }\n  }\n\n  pause() {\n    if (this.adsManager) {\n      this.adsManager.pause();\n    }\n  }\n\n  resume() {\n    if (this.adsManager) {\n      this.adsManager.resume();\n    }\n  }\n\n  setUpIMA() {\n    // Create the ad display container.\n    this.adDisplayContainer = new google.ima.AdDisplayContainer(this.adContainer, this.contentPlayer);\n    // Create ads loader.\n    this.adsLoader = new google.ima.AdsLoader(this.adDisplayContainer);\n    // Listen and respond to ads loaded and error events.\n    this.adsLoader.addEventListener(\n      google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,\n      event => this.onAdsManagerLoaded(event),\n      false);\n    this.adsLoader.addEventListener(\n      google.ima.AdErrorEvent.Type.AD_ERROR,\n      event => this.onAdError(event),\n      false);\n\n    // An event listener to tell the SDK that our content video\n    // is completed so the SDK can play any post-roll ads.\n    this.contentPlayer.onended = () => {\n      this.contentEnded();\n    };\n  }\n\n  initialUserAction() {\n    this.adDisplayContainer.initialize();\n    this.contentPlayer.load();\n  }\n\n  requestAds(adTagUrl) {\n    const adsRequest = new google.ima.AdsRequest();\n    adsRequest.adTagUrl = adTagUrl;\n    adsRequest.linearAdSlotWidth = this.width;\n    adsRequest.linearAdSlotHeight = this.height;\n    adsRequest.nonLinearAdSlotWidth = this.width;\n    adsRequest.nonLinearAdSlotHeight = this.height;\n    this.adsLoader.requestAds(adsRequest);\n  }\n\n  contentEnded() {\n    this.contentCompleteCalled = true;\n    this.adsLoader.contentComplete();\n  }\n\n  onAdsManagerLoaded(adsManagerLoadedEvent) {\n    const adsRenderingSettings = new google.ima.AdsRenderingSettings();\n    adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete = true;\n    this.adsManager = adsManagerLoadedEvent.getAdsManager(\n      this.contentPlayer, adsRenderingSettings);\n    this.startAdsManager(this.adsManager);\n  }\n\n  startAdsManager(adsManager) {\n    // Attach the pause/resume events.\n    adsManager.addEventListener(\n      google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,\n      () => this.onContentPauseRequested(),\n      false,\n      this);\n    adsManager.addEventListener(\n      google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,\n      () => this.onContentResumeRequested(),\n      false,\n      this);\n    // Handle errors.\n    adsManager.addEventListener(\n      google.ima.AdErrorEvent.Type.AD_ERROR,\n      event => this.onAdError(event),\n      false,\n      this);\n    const events = [google.ima.AdEvent.Type.ALL_ADS_COMPLETED,\n    google.ima.AdEvent.Type.CLICK,\n    google.ima.AdEvent.Type.COMPLETE,\n    google.ima.AdEvent.Type.FIRST_QUARTILE,\n    google.ima.AdEvent.Type.LOADED,\n    google.ima.AdEvent.Type.MIDPOINT,\n    google.ima.AdEvent.Type.PAUSED,\n    google.ima.AdEvent.Type.STARTED,\n    google.ima.AdEvent.Type.THIRD_QUARTILE];\n    events.forEach(event =>\n      adsManager.addEventListener(event, adEvent => this.onAdEvent(adEvent), false)\n    );\n\n    adsManager.init(\n      this.width,\n      this.height,\n      google.ima.ViewMode.NORMAL);\n\n    adsManager.start();\n  }\n\n  onContentPauseRequested() {\n    this.pauseForAd();\n  }\n\n  onContentResumeRequested() {\n    // Without this check the video starts over from the beginning on a\n    // post-roll's CONTENT_RESUME_REQUESTED\n    if (!this.contentCompleteCalled) {\n      this.resumeAfterAd();\n    }\n  }\n\n  onAdEvent(adEvent) {\n    if (adEvent.type === google.ima.AdEvent.Type.LOADED) {\n      const ad = adEvent.getAd();\n      if (!ad.isLinear()) {\n        this.onContentResumeRequested();\n      }\n    }\n    this.adEvents.emit(adEvent);\n  }\n\n  onAdError(adErrorEvent) {\n    if (this.adsManager) {\n      this.adsManager.destroy();\n    }\n    this.resumeAfterAd();\n    this.adEvents.emit(adErrorEvent);\n  }\n\n  // application functions\n\n  resumeAfterAd() {\n    this.contentPlayer.play();\n  }\n\n  pauseForAd() {\n    this.contentPlayer.pause();\n  }\n\n  loadAds() {\n    this.requestAds(this.adTag);\n  }\n\n}\n","export { DfpAdDirective } from './dfp-ad.directive';\nexport { DfpAdResponsiveDirective } from './dfp-ad-responsive.directive';\nexport { DfpResponsiveDirective } from './dfp-responsive.directive';\nexport { DfpSizeDirective } from './dfp-size.directive';\nexport { DfpTargetingDirective } from './dfp-targeting.directive';\nexport { DfpExclusionDirective } from './dfp-exclusion.directive';\nexport { DfpValueDirective } from './dfp-value.directive';\nexport { DfpVideoDirective } from './dfp-video.directive';\nexport { DfpAudiencePixelDirective } from './dfp-audience-pixel.directive';\n","export * from './service';\nexport * from './directive';\nexport { DfpModule } from './dfp.module';\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DfpIDGeneratorService {\n\n  private generatedIDs = {};\n\n  generateID() {\n    let id = null;\n\n    do {\n      const number = Math.random().toString().slice(2);\n      id = 'gpt-ad-' + number;\n    } while (id in this.generatedIDs);\n\n    this.generatedIDs[id] = true;\n\n    return id;\n  }\n\n  dfpIDGenerator(element) {\n    if (element && element.id && !(element.id in this.generatedIDs)) {\n      return element.id;\n    }\n\n    const id = this.generateID();\n    if (element) { element.id = id; }\n\n    return id;\n  }\n\n  isTaken(id) {\n    return id in this.generatedIDs;\n  }\n\n  isUnique(id) {\n    return !this.isTaken(id);\n  }\n\n}\n","import { Injectable, EventEmitter, Optional, Injector, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nimport { Subscription } from 'rxjs';\nimport { timer } from 'rxjs/observable/timer';\nimport { from } from 'rxjs/observable/from';\n\nimport { DfpConfig, DFP_CONFIG } from '../class';\nimport { ParseDurationService } from './parse-duration.service';\n\nclass DFPRefreshError extends Error { }\n\ndeclare var googletag;\n\n@Injectable()\nexport class DfpRefreshService {\n\n  refreshEvent: EventEmitter<any> = new EventEmitter();\n  private refreshSlots = [];\n  private singleRequest: Subscription;\n  private intervals = {};\n\n  constructor(\n    @Optional() @Inject(DFP_CONFIG)\n    private config: DfpConfig,\n    private inject: Injector,\n    private parseDuration: ParseDurationService\n  ) { }\n\n  slotRefresh(slot, refreshInterval?, initRefresh = false) {\n    const deferred: Promise<any> = from([slot]).toPromise(),\n      task = { slot: slot, deferred: deferred };\n\n    deferred.then(() => {\n      if (this.hasSlotInterval(slot)) {\n        this.cancelInterval(slot);\n      }\n      if (refreshInterval) {\n        this.addSlotInterval(task, refreshInterval);\n      }\n    });\n\n    if (this.config.singleRequestMode === true && initRefresh) {\n      // Use a timer to handle refresh of a single request mode\n      this.refreshSlots.push(slot);\n      if (this.singleRequest && !this.singleRequest.closed) {\n        this.singleRequest.unsubscribe();\n      }\n      this.singleRequest = timer(100).subscribe(() => {\n        const pubads = googletag.pubads();\n        pubads.enableSingleRequest();\n        googletag.enableServices();\n        this.refreshSlots.forEach(s => {\n          googletag.display(s.getSlotElementId());\n        });\n        pubads.refresh(this.refreshSlots);\n        this.refreshSlots = [];\n      });\n    } else {\n      googletag.display(slot.getSlotElementId());\n      this.refresh([task]);\n    }\n\n    return deferred;\n  }\n\n  cancelInterval(slot) {\n    if (!this.hasSlotInterval(slot)) {\n      throw new DFPRefreshError('No interval for given slot');\n    }\n\n    const interval: Subscription = this.intervals[this.slotIntervalKey(slot)];\n    interval.unsubscribe();\n    delete this.intervals[slot];\n\n    return this;\n  }\n\n  private hasSlotInterval(slot) {\n    return this.slotIntervalKey(slot) in this.intervals;\n  }\n\n  private refresh(tasks?) {\n    if (tasks === undefined) {\n      googletag.cmd.push(() => {\n        googletag.pubads().refresh();\n      });\n      return;\n    }\n\n    if (tasks.length === 0) { return false; }\n\n    googletag.cmd.push(() => {\n      googletag.pubads().refresh(tasks.map(task => task.slot));\n      tasks.forEach(task => {\n        Promise.resolve(task.slot);\n      });\n    });\n  }\n\n  private addSlotInterval(task, interval) {\n    const parsedInterval = this.parseDuration.parseDuration(interval);\n    this.validateInterval(parsedInterval, interval);\n\n    const refresh = timer(parsedInterval, parsedInterval).subscribe(() => {\n      const doc = this.inject.get(DOCUMENT);\n      if (!this.hiddenCheck(doc.getElementById(task.slot.getSlotElementId()))) {\n        this.refresh([task]);\n        this.refreshEvent.emit(task.slot);\n      }\n    });\n\n    this.intervals[this.slotIntervalKey(task.slot)] = refresh;\n\n    return refresh;\n  }\n\n  private slotIntervalKey(slot) {\n    return slot.getSlotId().getDomId();\n  }\n\n  private validateInterval(milliseconds, beforeParsing) {\n    if (milliseconds < 1000) {\n      console.warn('Careful: ${beforeParsing} is quite a low interval!');\n    }\n  }\n\n  hiddenCheck(element: Element) {\n    if (typeof (window) !== 'undefined') {\n      const css = window.getComputedStyle(element);\n      if (css.display === 'none') {\n        return true;\n      } else if (element.parentElement) {\n        return this.hiddenCheck(element.parentElement);\n      }\n    }\n    return false;\n  }\n}\n","import { Injectable, Optional, PLATFORM_ID, Inject } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport { DfpConfig, DFP_CONFIG } from '../class';\nimport { IdleService } from './idle.service';\nimport { ScriptInjectorService } from './script-injector.service';\n\nexport const GPT_LIBRARY_URL = '//www.googletagservices.com/tag/js/gpt.js';\n\nclass DFPConfigurationError extends Error { }\n\n@Injectable()\nexport class DfpService {\n\n  private enableVideoAds = false;\n\n  private personalizedAds = false;\n\n  private collapseIfEmpty = true;\n\n  private centering = false;\n\n  private location = null;\n\n  private ppid = null;\n\n  private globalTargeting = null;\n\n  private forceSafeFrame = false;\n\n  private safeFrameConfig = null;\n\n  private loadGPT = true;\n\n  private loaded = false;\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Optional() idleLoad: IdleService,\n    @Inject(DFP_CONFIG) private config: DfpConfig,\n    private scriptInjector: ScriptInjectorService\n  ) {\n    if (isPlatformBrowser(this.platformId)) {\n      const win: any = window,\n        googletag = win.googletag || {};\n\n      this.dfpConfig();\n\n      googletag.cmd = googletag.cmd || [];\n      googletag.cmd.push(() => {\n        this.setup();\n      });\n      win.googletag = googletag;\n\n      if (this.loadGPT) {\n        const loadScript = () => {\n          this.scriptInjector.scriptInjector(GPT_LIBRARY_URL).then((script) => {\n            this.loaded = true;\n          });\n        };\n        if (idleLoad) {\n          idleLoad.request(loadScript);\n        } else {\n          loadScript();\n        }\n      }\n    }\n  }\n\n  private dfpConfig() {\n    for (const key in this.config) {\n      if (this.hasOwnProperty(key)) {\n        this[key] = this.config[key];\n      }\n    }\n  }\n\n  private addSafeFrameConfig(pubads) {\n    if (!this.safeFrameConfig) { return false; }\n    if (typeof this.safeFrameConfig !== 'object') {\n      throw new DFPConfigurationError('FrameConfig must be an object');\n    }\n    pubads.setSafeFrameConfig(this.safeFrameConfig);\n  }\n\n  private addTargeting(pubads) {\n    if (!this.globalTargeting) { return false; }\n    if (typeof this.globalTargeting !== 'object') {\n      throw new DFPConfigurationError('Targeting must be an object');\n    }\n\n    for (const key in this.globalTargeting) {\n      if (this.globalTargeting.hasOwnProperty(key)) {\n        pubads.setTargeting(key, this.globalTargeting[key]);\n      }\n    }\n  }\n\n  private addLocation(pubads) {\n    if (!this.location) { return false; }\n\n    if (typeof this.location === 'string') {\n      pubads.setLocation(this.location);\n      return;\n    }\n\n    if (!Array.isArray(this.location)) {\n      throw new DFPConfigurationError('Location must be an ' +\n        'array or string');\n    }\n\n    pubads.setLocation.apply(pubads, this.location);\n  }\n\n  private addPPID(pubads) {\n    if (!this.ppid) { return false; }\n    if (typeof this.ppid !== 'string') {\n      throw new DFPConfigurationError('PPID must be a string');\n    }\n\n    pubads.setPublisherProvidedId(this.ppid);\n  }\n\n  private setup() {\n    const win: any = window,\n      googletag = win.googletag,\n      pubads = googletag.pubads();\n\n    if (this.enableVideoAds) {\n      pubads.enableVideoAds();\n    }\n\n    // personalizedAds is default\n    if (this.personalizedAds === false) {\n      pubads.setRequestNonPersonalizedAds(1);\n    }\n\n    if (this.collapseIfEmpty) {\n      pubads.collapseEmptyDivs();\n    }\n\n    // We always refresh ourselves\n    pubads.disableInitialLoad();\n\n    pubads.setForceSafeFrame(this.forceSafeFrame);\n    pubads.setCentering(this.centering);\n\n    this.addLocation(pubads);\n    this.addPPID(pubads);\n    this.addTargeting(pubads);\n    this.addSafeFrameConfig(pubads);\n\n    // pubads.enableSyncRendering();\n    pubads.enableAsyncRendering();\n\n    if (this.config.singleRequestMode !== true) {\n      if (this.config.enableVideoAds) {\n        pubads.enableVideoAds();\n      }\n      googletag.enableServices();\n    }\n\n  }\n\n  hasLoaded() {\n    return this.loaded;\n  }\n\n  defineTask(task) {\n    if (isPlatformBrowser(this.platformId)) {\n      const win: any = window,\n        googletag = win.googletag;\n      googletag.cmd.push(task);\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class HttpErrorService {\n\n  httpError(response, message) {\n    console.log(`Error (${response.status}) ${message ? message : ''}`);\n  }\n\n  isErrorCode = function (code) {\n    if (typeof code === 'number') {\n      return !(code >= 200 && code < 300);\n    }\n    return code[0] !== '2';\n  };\n\n}\n","import { Injectable, NgZone, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Injectable()\nexport class IdleService {\n\n  private requestIdleCallback: any;\n\n  constructor(\n    @Inject(PLATFORM_ID) platformId: Object,\n    zone: NgZone\n  ) {\n    const win: any = isPlatformBrowser(platformId) ? window : {};\n    if (win.requestIdleCallback) {\n      this.requestIdleCallback = (fun) => {\n        return win.requestIdleCallback(fun);\n      };\n    } else {\n      this.requestIdleCallback = (fun) => {\n        return zone.runOutsideAngular(() => win.setTimeout(fun, 50));\n      };\n    }\n  }\n\n  request(fun) {\n    this.requestIdleCallback(fun);\n  }\n\n}\n","export { HttpErrorService } from './http-error.service';\nexport { ParseDurationService } from './parse-duration.service';\nexport { ScriptInjectorService } from './script-injector.service';\n\nexport { IdleService as IdleLoad } from './idle.service';\nexport { DfpService } from './dfp.service';\nexport { DfpIDGeneratorService } from './dfp-id-generator.service';\nexport { DfpRefreshService } from './dfp-refresh.service';\n","import { Injectable } from '@angular/core';\n\nclass DFPDurationError extends Error {\n  constructor(interval) {\n    super(`Invalid interval: '${interval}'ls`);\n  }\n}\n\n@Injectable()\nexport class ParseDurationService {\n\n  convertToMilliseconds(time, unit) {\n    console.assert(/^(m?s|min|h)$/g.test(unit));\n\n    if (unit === 'ms') { return time; }\n    if (unit === 's') { return time * 1000; }\n    if (unit === 'min') { return time * 60 * 1000; }\n\n    return time * 60 * 60 * 1000;\n  }\n\n  convert(match) {\n    const time = parseFloat(match[1]);\n\n    if (match.length === 2) { return time; }\n\n    return this.convertToMilliseconds(time, match[2]);\n  }\n\n  parseDuration(interval) {\n\n    if (interval === undefined || interval === null) {\n      throw new DFPDurationError(interval);\n    }\n\n    if (typeof interval === 'number') {\n      return interval;\n    }\n\n    if (typeof interval !== 'string') {\n      throw new TypeError(`'${interval}' must be of number or string type`);\n    }\n\n    const match = interval.match(/((?:\\d+)?.?\\d+)(m?s|min|h)?/);\n\n    if (!match) {\n      throw new DFPDurationError(interval);\n    }\n\n    return this.convert(match);\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { HttpErrorService } from './http-error.service';\n\n@Injectable()\nexport class ScriptInjectorService {\n\n  constructor(private httpError: HttpErrorService) { }\n\n  private completeURL(url) {\n    const ssl = document.location.protocol === 'https:';\n    return (ssl ? 'https:' : 'http:') + url;\n  }\n\n  private createScript(url) {\n    const script = document.createElement('script');\n\n    script.async = true;\n    script.type = 'text/javascript';\n    script.src = this.completeURL(url);\n\n    return script;\n  }\n\n  private promiseScript(script, url) {\n    const promise = new Promise((resolve, reject) => {\n      script.onload = () => {\n        resolve(script);\n      };\n      script.onerror = () => {\n        reject({\n          path: url,\n          loaded: false\n        });\n      };\n    });\n\n    promise.catch(response => {\n      this.httpError.httpError({ status: 400 }, `loading script \"${url}\"`);\n    });\n\n    return promise;\n  }\n\n  injectScript(script) {\n    const head = document.head || document.querySelector('head');\n    head.appendChild(script);\n  }\n\n  scriptInjector(url) {\n    const script = this.createScript(url);\n    this.injectScript(script);\n    return this.promiseScript(script, url);\n  }\n\n}\n","/* (ignored) */"],"sourceRoot":""}